openapi: 3.1.0
info:
  title: Databiomics voice service
  version: 0.3.0
paths:
  /health:
    get:
      summary: Health check
      responses:
        '200': { description: OK }
  /metrics:
    get:
      summary: Service counters
      responses:
        '200': { description: Metrics payload }
  /v1/events/outbox:
    get:
      summary: Lista últimos eventos de outbox
      responses:
        '200': { description: Outbox events }
  /voice/profiles:
    post:
      summary: Cria perfil de voz
      responses:
        '200': { description: Perfil criado }
  /voice/profiles/{voice_profile_id}/verify:
    post:
      summary: Verifica prova de posse de voz
      responses:
        '200': { description: Perfil verificado }
  /voice/synthesize:
    post:
      summary: Gera áudio por TTS/clone (clone exige Pro + verificação)
      responses:
        '200': { description: Áudio gerado }
  /voice/synthesize-from-slides:
    post:
      summary: Gera áudio a partir de blocos de slides/notas
      responses:
        '200': { description: Áudio gerado a partir do deck }
  /voice/jobs/{job_id}:
    get:
      summary: Consulta status e metadados do job de fala
      responses:
        '200': { description: Job encontrado }
